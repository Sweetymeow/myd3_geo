<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML5 test</title>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/html5-qrcode.min.js"></script>
    <script src="js/html5-qrcode.js"></script>
    <script type="text/javascript" src="js/materialize.js"></script> 
    <!-- Compiled and minified CSS -->
    <link rel ="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.95.3/css/materialize.min.css" />
    <link rel="shortcut icon" href="img/icon.png" />
</head>
<body>
    <div class="card blue-grey darken-1" id="camDebug">
    <div class="card-content white-text">
        <div id="reader" style="width:300px; height:250px"></div>
		<h6 class="center">Result</h6>
		<span id="read" class="center"></span>
		<h6 class="center" id="info">Read Error (Debug only)</h6>
		<span class="center">Will constantly show a message, can be ignored</span>
		<span id="read_error" class="center"></span>
		<br>
		<h6 class="center">Video Error</h6>
		<span id="vid_error" class="center"></span>
		<br>
    </div>
    <div class="card-action white-text">
        <a href="#" id="stopBtn">STOP</a>
    </div>
    </div><!--container-->

<script>
    qrdata = new Array();
    $('div#reader').html5_qrcode(function(data){
        if(qrdata.length === 0){
            qrdata.push(data);
        }else{
            for(var i in qrdata){
            if(qrdata[i] != data)
                qrdata.push(data);
            }
        }
     // do something when code is read
        $('h6#info').text(data);
    },
    function(error){
    //show read errors 
    }, function(videoError){
    //the video stream could be opened
    }
    );

    $('a#stopBtn').on('click', function(){
        $('div#reader').html5_qrcode_stop();
    });
</script>
</body>
</html>